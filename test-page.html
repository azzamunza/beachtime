<!DOCTYPE html>
<html>
<head>
    <title>Test Button Update</title>
    <style>
        .day-btn { padding: 10px; margin: 5px; }
        .day-btn.active { background: yellow; }
    </style>
</head>
<body>
    <h1>Button Update Test</h1>
    <div id="globalDaySelector">
        <button class="day-btn active" data-day="0">Today (Dec 11)</button>
        <button class="day-btn" data-day="1">Tomorrow (Dec 12)</button>
        <button class="day-btn" data-day="2">Day 3 (Dec 13)</button>
    </div>
    
    <button onclick="testUpdate()">Test Update Buttons</button>
    
    <script>
        var weatherData = [];
        var currentDay = 0;
        
        function updateDayButtons() {
            var daySelector = document.getElementById('globalDaySelector');
            daySelector.innerHTML = '';
            
            for (var i = 0; i < weatherData.length && i < 3; i++) {
                var btn = document.createElement('button');
                btn.className = 'day-btn' + (i === currentDay ? ' active' : '');
                btn.setAttribute('data-day', i);
                
                var dateObj = new Date(weatherData[i].date + 'T00:00:00');
                var dayLabel = i === 0 ? 'Today' : i === 1 ? 'Tomorrow' : 'Day ' + (i + 1);
                var monthDay = dateObj.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });
                btn.textContent = dayLabel + ' (' + monthDay + ')';
                
                daySelector.appendChild(btn);
            }
        }
        
        function testUpdate() {
            // Simulate weather data with current dates
            var today = new Date();
            weatherData = [
                { date: today.toISOString().split('T')[0], hours: [7, 8, 9] },
                { date: new Date(today.getTime() + 86400000).toISOString().split('T')[0], hours: [7, 8, 9] },
                { date: new Date(today.getTime() + 172800000).toISOString().split('T')[0], hours: [7, 8, 9] }
            ];
            console.log('Weather data:', weatherData);
            updateDayButtons();
        }
    </script>
</body>
</html>
