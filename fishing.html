<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fishing Conditions Chart</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
</head>
<body>
    <header class="sticky-header">
        <nav class="nav-container">
            <div class="nav-brand">üèñÔ∏è BeachTime</div>
            <ul class="nav-menu">
                <li class="nav-item"><a href="index.html" class="nav-link">Beach Time</a></li>
                <li class="nav-item"><a href="fishing.html" class="nav-link active">Fishing Time</a></li>
            </ul>
        </nav>
    </header>
    
    <!-- Hamburger Menu Button -->
    <button class="hamburger-menu" id="hamburgerMenu" aria-label="Open controls menu">
        <span class="hamburger-line"></span>
        <span class="hamburger-line"></span>
        <span class="hamburger-line"></span>
    </button>
    
    <!-- Slide-out Controls Panel -->
    <div class="slide-out-panel" id="slideOutPanel">
        <div class="slide-out-header">
            <h2 class="slide-out-title">‚öôÔ∏è Dataset Controls</h2>
            <button class="close-panel-btn" id="closePanelBtn" aria-label="Close controls menu">&times;</button>
        </div>
        <div class="slide-out-content" id="slideOutContent">
            <!-- Controls will be moved here dynamically -->
        </div>
    </div>
    
    <div class="container">
        <h1>üé£ Fishing Conditions</h1>
        
        <!-- Hidden inputs to store coordinates and timezone -->
        <input type="hidden" id="latitude-fishing" value="-31.9688" />
        <input type="hidden" id="longitude-fishing" value="115.7673" />
        <input type="hidden" id="timezoneSelectFishing" value="Australia/Perth" />
        
        <div class="day-selector" id="globalDaySelectorFishing">
        </div>
        
        <div class="controls-row">
            <button class="day-btn" id="weeklyOverviewBtnFishing">Weekly Overview</button>
        </div>
        
        <div class="tab-menu" id="chartTabMenuFishing">
            <button class="tab-btn active" data-chart="separated">Separated Rings</button>
            <button class="tab-btn" data-chart="overlaid">Overlaid</button>
            <button class="tab-btn" data-chart="stacked">Stacked</button>
            <button class="tab-btn" data-chart="hourlyRating">Hourly Rating</button>
        </div>
        
        <!-- Fishing Map and Chart Container (50/50 split) -->
        <div class="fishing-layout-split">
            <div class="fishing-map-half" id="fishingMapContainer">
                <div class="location-info-banner" id="locationInfoBanner">
                    <div class="location-info-text">
                        <span class="location-icon">üìç</span>
                        <span class="location-name-display" id="locationNameDisplay">Click on map to select location</span>
                    </div>
                    <div class="location-coords" id="locationCoords">Lat: -31.9688, Lng: 115.7673</div>
                </div>
                <div id="fishingMap" style="height: 500px; border-radius: 15px;"></div>
            </div>
            
            <div class="fishing-chart-half">
                <div class="chart-container active" id="separatedChartFishing">
                <div class="viz-card">
                    <h2 class="viz-title">Fishing Location</h2>
                    <p class="viz-subtitle" id="chartDateFishing">Loading...</p>
                    
                    <div class="chart-with-dataset-controls">
                        <div class="chart-main-area">
                            <div class="canvas-container">
                                <canvas id="mainCanvasFishing"></canvas>
                            </div>
                            
                            <div class="data-timeline">
                                <div class="timeline-title">Hourly Data</div>
                                <div class="timeline-container" id="timelineFishing1"></div>
                            </div>
                            
                            <div class="location-label">
                                <div class="location-name">Fishing Location</div>
                                <div class="location-date" id="currentDateFishing">Loading...</div>
                            </div>
                            
                            <div class="legend">
                                <div class="legend-item">
                                    <div class="legend-color" style="background: #667eea;"></div>
                                    <span><strong>Pressure</strong> (ideal: 1010-1020 hPa)</span>
                                </div>
                                <div class="legend-item">
                                    <div class="legend-color" style="background: #F28C28;"></div>
                                    <span><strong>Temperature</strong> (ideal: 15-25¬∞C)</span>
                                </div>
                                <div class="legend-item">
                                    <div class="legend-color" style="background: #32dbae;"></div>
                                    <span><strong>Wind Speed</strong> (ideal: 0-15 km/h)</span>
                                </div>
                                <div class="legend-item">
                                    <div class="legend-color" style="background: #c1cad9;"></div>
                                    <span><strong>Cloud Cover</strong> (less is better)</span>
                                </div>
                                <div class="legend-item">
                                    <div class="legend-color" style="background: #7993e8;"></div>
                                    <span><strong>Rain</strong> (background)</span>
                                </div>
                                <div class="legend-item">
                                    <div class="legend-color" style="background: #1F5FA8;"></div>
                                    <span><strong>Wave Height</strong> (ideal: 0-1.5m)</span>
                                </div>
                            </div>
                            
                            <div class="info-box">
                                <div class="info-title">How to Read This Chart</div>
                                <div class="info-text">
                                    The chart flows clockwise from 7am (left) through 12pm-1pm (top) to 7pm (right) in a semi-circle arc. 
                                    Each colored ring represents a different metric in its own range. Pressure (innermost), Temperature, Wind Speed, Cloud Cover (inverted), and Wave Height (outermost).
                                    Rain probability is shown as a water droplet pattern in the background of each hour segment.
                                    Higher values within each ring indicate better scores (closer to ideal conditions). 
                                    Time labels and detailed readings appear around the outside of the chart.
                                </div>
                            </div>
                        </div>
                        
                        <div class="right-side-controls">
                            <div class="controls-section-title">üìä Dataset Controls</div>
                            
                            <div class="slider-section">
                                <div class="slider-section-header">üìä Ideal Ranges</div>
                                
                                <div class="range-slider-item">
                                    <div class="range-slider-label">
                                        <span>üå°Ô∏è Pressure (hPa)</span>
                                    </div>
                                    <div class="range-inputs-vertical">
                                        <div class="range-input-group">
                                            <span class="range-input-label">Min</span>
                                            <input type="range" class="range-slider-small" id="pressureMinRangeFishing" min="950" max="1050" step="5" value="980">
                                            <span class="range-value-display" id="pressureMinValueFishing">980 hPa</span>
                                        </div>
                                        <div class="range-input-group">
                                            <span class="range-input-label">Ideal Min</span>
                                            <input type="range" class="range-slider-small" id="pressureIdealMinRangeFishing" min="950" max="1050" step="5" value="1010">
                                            <span class="range-value-display" id="pressureIdealMinValueFishing">1010 hPa</span>
                                        </div>
                                        <div class="range-input-group">
                                            <span class="range-input-label">Ideal Max</span>
                                            <input type="range" class="range-slider-small" id="pressureIdealMaxRangeFishing" min="950" max="1050" step="5" value="1020">
                                            <span class="range-value-display" id="pressureIdealMaxValueFishing">1020 hPa</span>
                                        </div>
                                        <div class="range-input-group">
                                            <span class="range-input-label">Max</span>
                                            <input type="range" class="range-slider-small" id="pressureMaxRangeFishing" min="950" max="1050" step="5" value="1040">
                                            <span class="range-value-display" id="pressureMaxValueFishing">1040 hPa</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="range-slider-item">
                                    <div class="range-slider-label">
                                        <span>üå°Ô∏è Temperature (¬∞C)</span>
                                    </div>
                                    <div class="range-inputs-vertical">
                                        <div class="range-input-group">
                                            <span class="range-input-label">Min</span>
                                            <input type="range" class="range-slider-small" id="tempMinRangeFishing" min="0" max="50" step="1" value="10">
                                            <span class="range-value-display" id="tempMinValueFishing">10¬∞C</span>
                                        </div>
                                        <div class="range-input-group">
                                            <span class="range-input-label">Ideal Min</span>
                                            <input type="range" class="range-slider-small" id="tempIdealMinRangeFishing" min="0" max="50" step="1" value="15">
                                            <span class="range-value-display" id="tempIdealMinValueFishing">15¬∞C</span>
                                        </div>
                                        <div class="range-input-group">
                                            <span class="range-input-label">Ideal Max</span>
                                            <input type="range" class="range-slider-small" id="tempIdealMaxRangeFishing" min="0" max="50" step="1" value="25">
                                            <span class="range-value-display" id="tempIdealMaxValueFishing">25¬∞C</span>
                                        </div>
                                        <div class="range-input-group">
                                            <span class="range-input-label">Max</span>
                                            <input type="range" class="range-slider-small" id="tempMaxRangeFishing" min="0" max="50" step="1" value="35">
                                            <span class="range-value-display" id="tempMaxValueFishing">35¬∞C</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="range-slider-item">
                                    <div class="range-slider-label">
                                        <span>üí® Wind Speed (km/h)</span>
                                    </div>
                                    <div class="range-inputs-vertical">
                                        <div class="range-input-group">
                                            <span class="range-input-label">Min</span>
                                            <input type="range" class="range-slider-small" id="windMinRangeFishing" min="0" max="50" step="1" value="0">
                                            <span class="range-value-display" id="windMinValueFishing">0 km/h</span>
                                        </div>
                                        <div class="range-input-group">
                                            <span class="range-input-label">Ideal Min</span>
                                            <input type="range" class="range-slider-small" id="windIdealMinRangeFishing" min="0" max="50" step="1" value="0">
                                            <span class="range-value-display" id="windIdealMinValueFishing">0 km/h</span>
                                        </div>
                                        <div class="range-input-group">
                                            <span class="range-input-label">Ideal Max</span>
                                            <input type="range" class="range-slider-small" id="windIdealMaxRangeFishing" min="0" max="50" step="1" value="15">
                                            <span class="range-value-display" id="windIdealMaxValueFishing">15 km/h</span>
                                        </div>
                                        <div class="range-input-group">
                                            <span class="range-input-label">Max</span>
                                            <input type="range" class="range-slider-small" id="windMaxRangeFishing" min="0" max="50" step="1" value="40">
                                            <span class="range-value-display" id="windMaxValueFishing">40 km/h</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="range-slider-item">
                                    <div class="range-slider-label">
                                        <span>‚òÅÔ∏è Cloud Cover (%)</span>
                                    </div>
                                    <div class="range-inputs-vertical">
                                        <div class="range-input-group">
                                            <span class="range-input-label">Min (Best)</span>
                                            <input type="range" class="range-slider-small" id="cloudMinRangeFishing" min="0" max="100" step="5" value="0">
                                            <span class="range-value-display" id="cloudMinValueFishing">0%</span>
                                        </div>
                                        <div class="range-input-group">
                                            <span class="range-input-label">Max (Worst)</span>
                                            <input type="range" class="range-slider-small" id="cloudMaxRangeFishing" min="0" max="100" step="5" value="100">
                                            <span class="range-value-display" id="cloudMaxValueFishing">100%</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="range-slider-item">
                                    <div class="range-slider-label">
                                        <span>üíß Rain (%)</span>
                                    </div>
                                    <div class="range-inputs-vertical">
                                        <div class="range-input-group">
                                            <span class="range-input-label">Min (Best)</span>
                                            <input type="range" class="range-slider-small" id="rainMinRangeFishing" min="0" max="100" step="5" value="0">
                                            <span class="range-value-display" id="rainMinValueFishing">0%</span>
                                        </div>
                                        <div class="range-input-group">
                                            <span class="range-input-label">Max (Worst)</span>
                                            <input type="range" class="range-slider-small" id="rainMaxRangeFishing" min="0" max="100" step="5" value="100">
                                            <span class="range-value-display" id="rainMaxValueFishing">100%</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="range-slider-item">
                                    <div class="range-slider-label">
                                        <span>üåä Wave Height (m)</span>
                                    </div>
                                    <div class="range-inputs-vertical">
                                        <div class="range-input-group">
                                            <span class="range-input-label">Min</span>
                                            <input type="range" class="range-slider-small" id="waveMinRangeFishing" min="0" max="10" step="0.5" value="0">
                                            <span class="range-value-display" id="waveMinValueFishing">0 m</span>
                                        </div>
                                        <div class="range-input-group">
                                            <span class="range-input-label">Ideal Min</span>
                                            <input type="range" class="range-slider-small" id="waveIdealMinRangeFishing" min="0" max="10" step="0.5" value="0">
                                            <span class="range-value-display" id="waveIdealMinValueFishing">0 m</span>
                                        </div>
                                        <div class="range-input-group">
                                            <span class="range-input-label">Ideal Max</span>
                                            <input type="range" class="range-slider-small" id="waveIdealMaxRangeFishing" min="0" max="10" step="0.5" value="1.5">
                                            <span class="range-value-display" id="waveIdealMaxValueFishing">1.5 m</span>
                                        </div>
                                        <div class="range-input-group">
                                            <span class="range-input-label">Max</span>
                                            <input type="range" class="range-slider-small" id="waveMaxRangeFishing" min="0" max="10" step="0.5" value="5">
                                            <span class="range-value-display" id="waveMaxValueFishing">5 m</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="weight-buttons">
                                <button class="weight-btn" id="saveWeightsBtnFishing">üíæ Save Settings</button>
                                <button class="weight-btn secondary" id="loadWeightsBtnFishing">üìÇ Load Settings</button>
                                <button class="weight-btn tertiary" id="resetWeightsBtnFishing">‚Ü∫ Reset to Default</button>
                            </div>
                        </div>
                    </div>
                </div>
                </div>
                
                <!-- Additional chart containers will be added similarly -->
                <div class="chart-container" id="overlaidChartFishing">
                    <div class="viz-card">
                        <h2 class="viz-title">Overlaid Comparison</h2>
                        <p class="viz-subtitle" id="chartDateFishing2">Loading...</p>
                        <!-- Similar structure as separated chart -->
                    </div>
                </div>
                
                <div class="chart-container" id="stackedChartFishing">
                    <div class="viz-card">
                        <h2 class="viz-title">Stacked View</h2>
                        <p class="viz-subtitle" id="chartDateFishing3">Loading...</p>
                        <!-- Similar structure as separated chart -->
                    </div>
                </div>
                
                <div class="chart-container" id="hourlyRatingChartFishing">
                    <div class="viz-card">
                        <h2 class="viz-title">Hourly Rating</h2>
                        <p class="viz-subtitle" id="chartDateFishing4">Loading...</p>
                        <!-- Similar structure as separated chart -->
                    </div>
                </div>
                
                <div class="chart-container" id="weeklyOverviewChartFishing">
                    <div class="viz-card">
                        <h2 class="viz-title">Weekly Overview</h2>
                        <p class="viz-subtitle">Daily normalized ratings for the week</p>
                        <!-- Similar structure as separated chart -->
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Location Animation and Fish Species Section -->
        <div class="location-animation-section" id="locationAnimationSection">
            <div class="wave-animation">
                <svg class="wave-svg" viewBox="0 0 1200 120" preserveAspectRatio="none">
                    <path d="M0,50 Q300,10 600,50 T1200,50 L1200,120 L0,120 Z" fill="rgba(102, 126, 234, 0.3)" class="wave-path wave-1"/>
                    <path d="M0,60 Q300,20 600,60 T1200,60 L1200,120 L0,120 Z" fill="rgba(102, 126, 234, 0.2)" class="wave-path wave-2"/>
                    <path d="M0,70 Q300,30 600,70 T1200,70 L1200,120 L0,120 Z" fill="rgba(102, 126, 234, 0.1)" class="wave-path wave-3"/>
                </svg>
            </div>
        </div>
        
        <!-- Fish Species Table with Enhanced Marine Database -->
        <div class="fish-table-container" id="fishTableContainer">
            <h2 class="section-title">üêü Marine Species Database</h2>
            <p class="section-subtitle">Fish species commonly found at this location</p>
            <div id="fishSpeciesTable" class="fish-species-table">
                <p>Select a location on the map to view local fish species...</p>
            </div>
        </div>
    </div>
    
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="script.js"></script>
    <script src="fishing-script.js"></script>
</body>
</html>
